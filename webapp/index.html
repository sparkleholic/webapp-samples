<!DOCTYPE html>
<html>
<head>
<title>Example Web App</title>
<style type="text/css">
    body {
        width: 100%;
        height: 100%;
        background-color:#202020;
    }
    div {
        position:absolute;
        height:100%;
        width:100%;
        display: table;
    }
    h1 {
        display: table-cell;
        vertical-align: middle;
        text-align:center;
        color:#FFFFFF;
    }
</style>
<script type="text/javascript">
window.onload = function() {
    var bridge = new WebOSServiceBridge();
    /*
     *  getTimeApi calls gettime of systemservice, a module in the platform.
     */
    //var getTimeApi = 'luna://com.webos.service.systemservice/clock/getTime';
    //var getTimeParams = '{}';
    var getState = 'luna://com.webos.service.broadcastradio/getState';
    var getStateParams = '{}';

    function getState_callback(msg){
        var arg = JSON.parse(msg);
        if (arg.returnValue) {
            console.log("[APP_NAME: example web app] GETSTATE_SUCCESS State : " + arg.state);
            //webOSSystem.PmLogString(6, "GETSTATE_SUCCESS", '{"APP_NAME": "example web app"}', "UTC : " + arg.utc);
        }
        else {
            console.error("[APP_NAME: example web app] GETSTATE_FAILED errorText : " + arg.errorText);
            //webOSSystem.PmLogString(3, "GETSTATE_FAILED", '{"APP_NAME": "example web app"}', "errorText : " + arg.errorText);
        }
    }    
    
    bridge.onservicecallback = getState_callback;
    bridge.call(getState, getStateParams);
    document.getElementById("txt_msg").onclick = function() {
        bridge.onservicecallback = getState_callback;
        bridge.call(getState, getStateParams);
    };
}
</script>
</head>
<body>
    <div>
        <h1 id="txt_msg">Hello, Web Application!!</h1>
    </div>
</body>
</html>
